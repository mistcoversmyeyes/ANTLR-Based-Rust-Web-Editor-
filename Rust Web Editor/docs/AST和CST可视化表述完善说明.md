# AST和CST可视化表述完善说明

## 修改概述

根据编译原理作业的要求，项目需要实现ParseTree（具体语法树/CST）和AST（抽象语法树）的可视化表示。本次修改对相关文档进行了系统性的表述完善，明确区分了两种语法树的概念、用途和实现方式。

## 核心概念澄清

### ParseTree（具体语法树/CST）
- **定义**：由ANTLR直接生成的解析树，完整反映源代码的语法结构
- **特点**：包含所有语法规则和终结符，与语法文件中的规则一一对应
- **用途**：展示完整的语法分析过程，便于理解语法规则的应用

### AST（抽象语法树）
- **定义**：在ParseTree基础上经过语义归约得到的抽象表示
- **特点**：去除冗余的语法节点，突出程序的语义结构和核心逻辑
- **用途**：为后续的语义分析、代码生成等阶段提供简化的树结构

## 修改的文档列表

### 1. README.md
- **修改内容**：明确区分ParseTree（CST）和AST的可视化目标
- **新增说明**：
  - ParseTree可视化：完整展示语法结构，支持与语法文件规则的对应
  - AST可视化：突出语义结构，便于理解程序逻辑
  - 两者均支持交互式操作（缩放、拖拽等）

### 2. docs/DevelopmentPlan.md
- **修改内容**：细化前后端实现方案，明确两种树的生成和渲染流程
- **技术方案**：
  - 后端：分别实现ParseTree和AST的遍历与归约逻辑
  - 前端：支持两种树的切换显示和对比分析

### 3. docs/TODO.md
- **修改内容**：更新任务列表，明确区分CST和AST相关任务
- **新增任务**：
  - AST生成与可视化实现
  - CST和AST切换显示功能
  - 对比分析功能

### 4. docs/webapp/前端开发指南.md
- **修改内容**：更新前端功能模块描述和开发阶段计划
- **技术细节**：明确前端需要分别处理两种树的渲染和交互

### 5. docs/webServer/AnalysisAPI.md
- **修改内容**：扩展API响应格式，增加AST字段
- **新增字段**：
  ```json
  "ast": {
      "dot": string
  }
  ```

### 6. docs/CompilerFronted/AnalysisService调试功能说明.md
- **修改内容**：更新调试输出格式说明，区分ParseTree和AST信息

## 实现优先级

### 第一阶段（当前）
- ✅ ParseTree（CST）可视化 - 已完成
- ✅ 文档表述完善 - 已完成

### 第二阶段（后续）
- [ ] AST生成逻辑实现
- [ ] AST可视化功能
- [ ] CST和AST切换显示
- [ ] 对比分析功能

## 技术要点

1. **后端实现**：
   - ParseTree：直接使用ANTLR的树遍历功能
   - AST：需要实现语义归约算法，简化树结构

2. **前端实现**：
   - 使用viz.js渲染两种不同的DOT格式
   - 实现选项卡切换功能
   - 支持并排对比显示

3. **用户体验**：
   - 清晰的标签区分两种树
   - 统一的交互操作（缩放、拖拽）
   - 节点高亮和跳转功能

## 总结

本次文档完善明确了项目中AST和CST的实现目标和技术方案，为后续开发提供了清晰的指导。所有相关文档现在都使用统一的术语和概念，避免了混淆，有助于团队协作和功能实现。
